



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.5.3">
    
    
      
        <title>Basic Operations - Myst Language</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.aa3de92b.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#basic-operations" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Myst Language" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Myst Language
              </span>
              <span class="md-header-nav__topic">
                Basic Operations
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    Myst Language
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Myst" class="md-nav__link">
      Myst
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Basic Operations
      </label>
    
    <a href="./" title="Basic Operations" class="md-nav__link md-nav__link--active">
      Basic Operations
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mathematic-operations" title="Mathematic operations" class="md-nav__link">
    Mathematic operations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#collection-access" title="Collection access" class="md-nav__link">
    Collection access
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logical-operations-and-truthiness" title="Logical operations and truthiness" class="md-nav__link">
    Logical operations and truthiness
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparison-operations" title="Comparison operations" class="md-nav__link">
    Comparison operations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unary-operations" title="Unary operations" class="md-nav__link">
    Unary operations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operational-assignment" title="Operational assignment" class="md-nav__link">
    Operational assignment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#or-assignment" title="Or-assignment" class="md-nav__link">
    Or-assignment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#and-assignment" title="And-assignment" class="md-nav__link">
    And-assignment
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../values_and_variables/" title="Values and variables" class="md-nav__link">
      Values and variables
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mathematic-operations" title="Mathematic operations" class="md-nav__link">
    Mathematic operations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#collection-access" title="Collection access" class="md-nav__link">
    Collection access
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logical-operations-and-truthiness" title="Logical operations and truthiness" class="md-nav__link">
    Logical operations and truthiness
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparison-operations" title="Comparison operations" class="md-nav__link">
    Comparison operations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unary-operations" title="Unary operations" class="md-nav__link">
    Unary operations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operational-assignment" title="Operational assignment" class="md-nav__link">
    Operational assignment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#or-assignment" title="Or-assignment" class="md-nav__link">
    Or-assignment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#and-assignment" title="And-assignment" class="md-nav__link">
    And-assignment
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="basic-operations">Basic Operations</h1>
<p>With the knowledge of values and how they are managed, let's look at some ways that they can be manipulated.</p>
<p>Almost all of the basic operators are actually defined as methods on the types of objects. For example, the expression <code class="codehilite">1 + 2</code> calls the + method on the value <code class="codehilite">1</code>, with <code class="codehilite">2</code> as an argument. This method-based approach means that these operators can be overridden on any type at any time.</p>
<p>The examples in this section will almost exclusively use literal values to clearly show the types involved in the operations, but all of the operators can be used with variables or sometimes even types or modules instead with the same effects.</p>
<h2 id="mathematic-operations"><strong>Mathematic operations</strong></h2>
<p>Most primitive values define the basic arithmetic operations: <code class="codehilite">+</code>, <code class="codehilite">-</code>, <code class="codehilite">*</code>, <code class="codehilite">/</code>, and <code class="codehilite"><span class="c">%</span></code>. Some examples:</p>
<div class="codehilite"><pre><span></span><span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span>       <span class="c1">#=&gt; 2</span>
<span class="mi">2</span><span class="o">.</span><span class="mi">6</span> <span class="o">+</span> <span class="mi">3</span><span class="o">.</span><span class="mi">8</span>   <span class="c1">#=&gt; 6.4</span>
<span class="mi">10</span> <span class="o">*</span> <span class="mi">10</span>     <span class="c1">#=&gt; 100</span>
<span class="mi">120</span> <span class="o">%</span> <span class="mi">100</span>   <span class="c1">#=&gt; 20</span>
<span class="s2">&quot;h&quot;</span> <span class="o">+</span> <span class="s2">&quot;i&quot;</span>   <span class="c1">#=&gt; &quot;hi&quot;</span>
</pre></div>

<p>Collections also implement some operations like <code class="codehilite">+</code>:</p>
<div class="codehilite"><pre><span></span><span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">]</span> <span class="o">+</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="o">]</span> <span class="c1">#=&gt; [1, 2, 3, 4]</span>
<span class="p">{</span><span class="ss">a</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span> <span class="o">+</span> <span class="p">{</span><span class="ss">b</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span> <span class="c1">#=&gt; {a: 1, b: 2}</span>
</pre></div>

<p>For Maps, keys are unique, so adding two Maps that contain the same key will give the key in the result the value of the second Map. For example:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span><span class="ss">a</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">b</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span> <span class="o">+</span> <span class="p">{</span><span class="ss">a</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="ss">c</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="c1">#=&gt; {a: 2, b: 2, c: 3}</span>
</pre></div>

<p>This can be useful for quickly applying default values to a Map, but may also lead to some unexpected behavior if it is not understood beforehand.</p>
<p>Most value types define a number of other mathematic operations, such as <code class="codehilite">String#*</code> and <code class="codehilite">List#-</code>. There are too many to cover comprehensively in this guide, so be sure to check the documentation for a more complete look at the operations that are available.</p>
<h2 id="collection-access"><strong>Collection access</strong></h2>
<p>To access individual values within a collection, Myst provides <em>access notation</em> via square braces (<code class="codehilite">[</code> and <code class="codehilite">]</code>) with an index argument between them:</p>
<div class="codehilite"><pre><span></span><span class="n">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span>
<span class="n">list</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="c1">#=&gt; 1</span>
<span class="n">map</span> <span class="o">=</span> <span class="p">{</span><span class="ss">a</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">b</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">map</span><span class="o">[</span><span class="ss">:b</span><span class="o">]</span> <span class="c1">#=&gt; 2</span>
</pre></div>

<p>Lists use zero-based indexing, meaning the first element of a List is at position <code class="codehilite">0</code>, and the last element of the List is at position <code class="codehilite">n-1</code>, where <code class="codehilite">n</code> is the number of elements in the List.</p>
<p>In a List, the index argument is generally only allowed to be an Integer. For Maps, the index can be any type, but will generally be a Symbol, following the preference that Map keys should use Symbols.</p>
<p>In any case, if the element at the given index does not exist (e.g., the key is not in the Map, of the index is past the end of a List), the access will return <code class="codehilite">nil</code>.</p>
<p>It is also possible to directly assign an individual element of a collection using <em>access-assignment notation</em>. This looks just like a collection access used as the target of an assignment. For example:</p>
<div class="codehilite"><pre><span></span><span class="n">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span>
<span class="n">list</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">list</span> <span class="c1">#=&gt; [4, 2, 3]</span>
</pre></div>

<p>Notice that this directly modifies the collection itself, but is not considered an assignment <em>to</em> the collection.</p>
<h2 id="logical-operations-and-truthiness"><strong>Logical operations and truthiness</strong></h2>
<p>Myst provides two native logical operations, "or" (<code class="codehilite">||</code>) and "and" (<code class="codehilite">&amp;&amp;</code>). These operate based on the truthiness of the first operand. The result of a logical operation is the value that determined the action taken by the operation - no conversions to Booleans or other operations are done to the value.</p>
<p>All values are considered truthy unless they are either <code class="codehilite">nil</code> or <code class="codehilite">false</code>. This means that, unlike some languages such as C or JavaScript, <code class="codehilite">0</code>, <code class="codehilite">[]</code>, <code class="codehilite">{}</code>, and <code class="codehilite">&quot;&quot;</code> are <em>all</em> considered truthy.</p>
<p>Logical operations in Myst are also short-circuiting, meaning that the right side operand will only be evaluated if the left side operand does not satisfy the operation. For an Or operation, that is when the left side operand is falsey, or truthy for an And operation.</p>
<p>Below are some examples of logical operations and the results they would yield.</p>
<div class="codehilite"><pre><span></span><span class="kp">false</span> <span class="o">||</span> <span class="kp">false</span>  <span class="c1">#=&gt; false</span>
<span class="kp">false</span> <span class="o">||</span> <span class="kp">true</span>   <span class="c1">#=&gt; true</span>
<span class="kp">true</span>  <span class="o">||</span> <span class="kp">false</span>  <span class="c1">#=&gt; true</span>
<span class="mi">1</span>     <span class="o">||</span> <span class="mi">2</span>      <span class="c1">#=&gt; 1</span>
<span class="kp">nil</span>   <span class="o">||</span> <span class="mi">2</span>      <span class="c1">#=&gt; 2</span>

<span class="kp">false</span> <span class="o">&amp;&amp;</span> <span class="kp">false</span>  <span class="c1">#=&gt; false</span>
<span class="kp">false</span> <span class="o">&amp;&amp;</span> <span class="kp">true</span>   <span class="c1">#=&gt; false</span>
<span class="kp">true</span>  <span class="o">&amp;&amp;</span> <span class="kp">false</span>  <span class="c1">#=&gt; false</span>
<span class="kp">true</span>  <span class="o">&amp;&amp;</span> <span class="kp">true</span>   <span class="c1">#=&gt; true</span>
<span class="kp">nil</span>   <span class="o">&amp;&amp;</span> <span class="mi">2</span>      <span class="c1">#=&gt; nil</span>
<span class="o">[]</span>    <span class="o">&amp;&amp;</span> <span class="kp">true</span>   <span class="c1">#=&gt; false</span>
</pre></div>

<p>It's worth noting that since there are two falsey values, the result of a failed logical operation (one that is not satisfied) can be <em>either</em> <code class="codehilite">nil</code> or <code class="codehilite">false</code>, but no other value. For example:</p>
<div class="codehilite"><pre><span></span><span class="o">[]</span> <span class="o">&amp;&amp;</span> <span class="kp">false</span>   <span class="c1">#=&gt; false</span>
<span class="kp">false</span> <span class="o">||</span> <span class="kp">nil</span>  <span class="c1">#=&gt; nil</span>
</pre></div>

<p>Unlike most other operators in Myst, <code class="codehilite">||</code> and <code class="codehilite">&amp;&amp;</code> are native to the language, and cannot be overridden. Operators that <em>are</em> overridable have a receiver (the left) and an argument (the right), but the logical operators are defined by the two operands equally. Because of that, it does not make sense for logical operations to be overridable.</p>
<h2 id="comparison-operations"><strong>Comparison operations</strong></h2>
<p>Myst provides all of the common comparison operators: <code class="codehilite">&lt;</code>, <code class="codehilite">&lt;=</code>, <code class="codehilite">==</code>, <code class="codehilite">!=</code>, <code class="codehilite">&gt;=</code>, and <code class="codehilite">&gt;</code>. These operations should always return a boolean value, but can be changed by overridden behavior.</p>
<p>All types define <code class="codehilite">==</code> and <code class="codehilite">!=</code>. These are also the only comparison operations that booleans and nil define by default.</p>
<div class="codehilite"><pre><span></span><span class="kp">true</span> <span class="o">==</span> <span class="kp">false</span> <span class="c1">#=&gt; false</span>
<span class="kp">true</span> <span class="o">!=</span> <span class="kp">false</span> <span class="c1">#=&gt; true</span>
<span class="kp">nil</span>  <span class="o">==</span> <span class="kp">nil</span>    <span class="c1">#=&gt; true</span>
<span class="kp">nil</span>  <span class="o">==</span> <span class="kp">false</span>  <span class="c1">#=&gt; false</span>
</pre></div>

<p>An important thing to note in the example above is that <code class="codehilite">nil</code> will only ever be equal to <code class="codehilite">nil</code>. The fact that <code class="codehilite">nil</code> and <code class="codehilite">false</code> are both falsey does not apply to equality operations.</p>
<p>Equality operations are always based on values rather than object ids, as in Java and other similar languages. That means there should never be a concern about using <code class="codehilite"><span class="na">.equals</span></code> or <code class="codehilite"><span class="na">.eql</span></code> or other special methods instead of <code class="codehilite">==</code> for things like Strings.</p>
<div class="codehilite"><pre><span></span><span class="s2">&quot;hello&quot;</span> <span class="o">==</span> <span class="s2">&quot;hello&quot;</span> <span class="c1">#=&gt; true</span>
</pre></div>

<p>The remainder of the comparison operators are implemented selectively for each type. For numeric types, the default implementations for all of these operators all perform their mathematic definition:</p>
<div class="codehilite"><pre><span></span><span class="mi">1</span>  <span class="o">&lt;</span>  <span class="mi">2</span>       <span class="c1">#=&gt; true</span>
<span class="mi">10</span> <span class="o">==</span> <span class="mi">20</span>      <span class="c1">#=&gt; false</span>
<span class="mi">5</span>  <span class="o">&gt;=</span> <span class="mi">5</span><span class="o">.</span><span class="mi">4</span>     <span class="c1">#=&gt; false</span>
</pre></div>

<p>Operations between a Float and an Integer operand on either side will also work as expected.</p>
<div class="codehilite"><pre><span></span><span class="mi">1</span><span class="o">.</span><span class="mi">0</span> <span class="o">==</span> <span class="mi">1</span>      <span class="c1">#=&gt; true</span>
<span class="mi">1</span>   <span class="o">==</span> <span class="mi">1</span><span class="o">.</span><span class="mi">1</span>    <span class="c1">#=&gt; false</span>
</pre></div>

<p>Collection types also implement <code class="codehilite">&lt;</code> and <code class="codehilite">&lt;=</code> to check whether the left side is a subset of the right side. Specifically, <code class="codehilite">&lt;</code> is a <em>proper subset</em> check, meaning the right side must be a larger collection than the left side, while <code class="codehilite">&lt;=</code> also allows the collections to be equal. The order of elements in the collection is not important for either of these operations.</p>
<div class="codehilite"><pre><span></span><span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">]</span> <span class="o">&lt;</span>  <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">]</span>        <span class="c1">#=&gt; false</span>
<span class="o">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">]</span> <span class="o">&lt;=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">]</span>        <span class="c1">#=&gt; true</span>
<span class="p">{</span><span class="ss">b</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span> <span class="o">&lt;</span>  <span class="p">{</span><span class="ss">a</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">b</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>  <span class="c1">#=&gt; true</span>
</pre></div>

<h2 id="unary-operations"><strong>Unary operations</strong></h2>
<p>Unary operations are operations with a single operand (the receiver), and are always written as prefixes for the operand. The three unary operations supported by Myst are <code class="codehilite">!</code>, <code class="codehilite">-</code>, and <code class="codehilite">*</code>, any combination of which can be chained together.</p>
<p><code class="codehilite">!</code> performs a logical "not" on the operand. Truthy values become <code class="codehilite">false</code>, while falsey values become <code class="codehilite">true</code>. The result is always a Boolean. For example:</p>
<div class="codehilite"><pre><span></span><span class="o">!</span><span class="kp">true</span>   <span class="c1">#=&gt; false</span>
<span class="o">!</span><span class="kp">false</span>  <span class="c1">#=&gt; true</span>
<span class="o">!</span><span class="kp">nil</span>    <span class="c1">#=&gt; true</span>
<span class="o">![]</span>     <span class="c1">#=&gt; false</span>
<span class="o">!!</span><span class="mi">100</span>   <span class="c1">#=&gt; true</span>
</pre></div>

<p>The last line above is an example of a "double not". This is a common pattern for quickly getting the truthiness of a value as a Boolean.</p>
<p>The unary version of <code class="codehilite">-</code> is a negation. For numeric types, this is essentially equivalent to the binary operation with <code class="codehilite">0</code> as the receiver (i.e., <code class="codehilite">-2</code> is the same as <code class="codehilite">0 - 2</code>).</p>
<div class="codehilite"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">100</span>
<span class="o">-</span><span class="n">a</span>        <span class="c1">#=&gt; -100</span>
<span class="o">--</span><span class="n">a</span>       <span class="c1">#=&gt; 100</span>
</pre></div>

<p>Again, <code class="codehilite">-</code> can be chained to perform "double negation", though this is not immediately useful with any of the native types.</p>
<p>Finally, <code class="codehilite">*</code> is known the "splat" operator. Usage of the splat operator goes far beyond unary operation usage, and will be further explained in later sections, but the general idea of the operation is to return a List representation of the operand.</p>
<p>For example, <code class="codehilite">Map#*</code> returns a List of 2-element Lists with keys as the first elements and values as the second elements. For example:</p>
<div class="codehilite"><pre><span></span><span class="o">*</span><span class="p">{</span><span class="ss">a</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">b</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span> <span class="c1">#=&gt; [[:a, 1], [:b, 2]]</span>
</pre></div>

<p>The splat operator for a List (at least as a unary operation) will simply return the List itself.</p>
<div class="codehilite"><pre><span></span><span class="o">*[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span> <span class="c1">#=&gt; [1, 2, 3]</span>
</pre></div>

<p>There generally are not many use cases for the splat operator as a unary operation. It is much more commonly used in the special cases described later on, namely in pattern matching and expanding arguments for functions.</p>
<h2 id="operational-assignment"><strong>Operational assignment</strong></h2>
<p>As mentioned in the previous chapter, Myst provides a shorthand to perform an operation on a variable and assign it back into the same variable, known as <em>operational assignment</em>.</p>
<p>Operational assignments take the form <code class="codehilite">op=</code>, where <code class="codehilite">op</code> is the operator to apply before re-assigning the variable. The semantic expansion of operational assignments goes from <code class="codehilite">a op= b</code> to <code class="codehilite">a = a op b</code>. Some examples:</p>
<div class="codehilite"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">a</span> <span class="o">+=</span> <span class="mi">2</span>  <span class="c1">#=&gt; 3</span>
<span class="n">a</span> <span class="o">*=</span> <span class="mi">2</span>  <span class="c1">#=&gt; 6</span>
<span class="n">a</span> <span class="sx">%= 3  #=</span><span class="o">&gt;</span> <span class="mi">0</span>
</pre></div>

<p>Operational assignment works for every <em>binary</em> operation shown in this chapter. However, the logical operators (<code class="codehilite">||</code> and <code class="codehilite">&amp;&amp;</code>) have special behavior when written as operational assignments.</p>
<h2 id="or-assignment"><strong>Or-assignment</strong></h2>
<p><code class="codehilite">||=</code>, referred to as "or-assignment" loosely expands from <code class="codehilite">a ||= b</code> to <code class="codehilite">a || a = b</code>, rather than the normal <code class="codehilite">a = a || b</code>. This is a "loose" expansion, because <code class="codehilite">a</code> does not have to exist before the assignment is written.</p>
<p>The expression <code class="codehilite">a ||= b</code> will always assign <code class="codehilite">b</code> into <code class="codehilite">a</code>, so long as the <code class="codehilite">a</code> is not a truthy value. If a does not yet exist, it is considered falsey by the assignment and created as a new variable with the value of <code class="codehilite">b</code>.</p>
<p>If the value of <code class="codehilite">a</code> is truthy, the assignment will not occur, and the existing value for <code class="codehilite">a</code> will be returned as the result.</p>
<div class="codehilite"><pre><span></span><span class="n">a</span> <span class="o">||=</span> <span class="mi">2</span>  <span class="c1">#=&gt; 2</span>
<span class="c1"># `a` is truthy, so no assignment occurs.</span>
<span class="n">a</span> <span class="o">||=</span> <span class="mi">3</span>  <span class="c1">#=&gt; 3</span>

<span class="n">z</span> <span class="o">||=</span> <span class="kp">nil</span>   <span class="c1">#=&gt; nil</span>
<span class="c1"># `nil` is falsey, so assignment occurs.</span>
<span class="n">z</span> <span class="o">||=</span> <span class="kp">false</span> <span class="c1">#=&gt; false</span>
<span class="n">z</span> <span class="o">||=</span> <span class="mi">3</span>     <span class="c1">#=&gt; 3</span>
<span class="n">z</span> <span class="o">||=</span> <span class="mi">4</span>     <span class="c1">#=&gt; 4</span>
</pre></div>

<p>A consequence of how <code class="codehilite">||=</code> works means that the target is guaranteed to exist after the assignment, making it useful for ensuring default values for variables that may not exist beforehand.</p>
<h2 id="and-assignment"><strong>And-assignment</strong></h2>
<p><code class="codehilite">&amp;&amp;=</code> ("and-assignment") acts exactly like <code class="codehilite">||=</code>, but with an <code class="codehilite">&amp;&amp;</code> operation instead. In this case, the left side must be truthy for the assignment to occur.</p>
<div class="codehilite"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">a</span> <span class="o">&amp;&amp;=</span> <span class="mi">1</span>     <span class="c1">#=&gt; false</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">a</span> <span class="o">&amp;&amp;=</span> <span class="mi">2</span>     <span class="c1">#=&gt; 2</span>

<span class="n">z</span> <span class="o">&amp;&amp;=</span> <span class="mi">1</span>     <span class="c1">#=&gt; nil</span>
<span class="n">z</span> <span class="o">&amp;&amp;=</span> <span class="mi">2</span>     <span class="c1">#=&gt; nil</span>
</pre></div>

<p>The last two lines above may be a little surprising - one of the few cases of potentially unintuitive behavior in Myst. As mentioned above, <code class="codehilite">&amp;&amp;=</code> acts <em>exactly</em> like <code class="codehilite">||=</code>, and a consequence of <code class="codehilite">||=</code> is that the target will <em>always</em> exist after the operation is completed.</p>
<p>However, since the assumed value of a non-existent variable is falsey, the assignment in an <code class="codehilite">&amp;&amp;=</code> operation is not guaranteed to happen. Logically, this makes sense, but practically it can become annoying. For example, consider the code required if <code class="codehilite">&amp;&amp;=</code> did <em>not</em> always initialize the target variable:</p>
<div class="codehilite"><pre><span></span><span class="n">z</span> <span class="o">||=</span> <span class="kp">nil</span>
<span class="n">z</span> <span class="o">&amp;&amp;=</span> <span class="mi">1</span>
</pre></div>

<p>Here, we're trying to say that if <code class="codehilite">z</code> does not exist, create it with a <code class="codehilite">nil</code> value, then do the and-assignment. But, as you may have picked up, this actually won't always work, because if <code class="codehilite">z</code> exists beforehand but is falsey, the or-assignment will occur, potentially changing the value of <code class="codehilite">z</code> (if it was <code class="codehilite">false</code>, it would become <code class="codehilite">nil</code>).</p>
<p>To avoid this extra line that is still not guaranteed to work, Myst defaults the target variable to <code class="codehilite">nil</code>, which will ensure that the assignment does not occur (since a non-existent value is considered falsey), but will also ensure that the target variable is assigned after the operation is completed (matching the semantics of <code class="codehilite">||=</code>).</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href=".." title="Myst" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Myst
              </span>
            </div>
          </a>
        
        
          <a href="../values_and_variables/" title="Values and variables" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Values and variables
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.f041762f.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>